<%- startview('songs/index') %>

  <div class="alert" ng-show="mode == 'loading'">
    <strong>Loading</strong><br>
    If this is your first time, this can take several moments.
  </div>

  <div class="search" ng-show="mode == 'search'">
    <input ng-change="updateSearch(searchTerm)" ng-model="searchTerm" placeholder="Search"></div>
  </div>

  <div class="alert" ng-show="mode == 'search' && (!searchTerm || searchTerm.length < 3)">
    <strong>Keep typing</strong><br>
    Type at least 3 letters to search.
  </div>

  <div class="alert" ng-show="mode == 'favs' && favs.list().length == 0">
    <strong>You have no favorites.</strong><br>
    You can add a favorite by clicking the "star" button at the bottom of any song page.
  </div>


  <ul class="songs">
    <li ng-repeat="song in songs | orderBy: name | filter: modeFilter">
      <a ng-click="showSong(song)"> <strong>{{song.name}}</strong> <br /> {{song.artist}} &nbsp;</a>
    </li>
  </ul>

<%- endview -%>




<%- startview('songs/show') %>

  <div class="cell">
    <h3>{{song.name}}</h3>
    <h4>{{song.artist}}</h4>
    <hr />
    <article ng-class="{noWrap: noWrap}" ng-bind-html-unsafe="simpleFormat(song.lyrics)"></article>
    <hr />

    <a ng-hide="favs.contains(song.id)"
      class="btn btn-primary"
      ng-click="favs.add(song.id)">
          <i class="icon-star icon-white"></i> Star
    </a>

    <a ng-show="favs.contains(song.id)"
      class="btn"
      ng-click="favs.remove(song.id)">
          <i class="icon-star-empty"></i> Unstar
    </a>

    <a class="btn" ng-click="toggleWrap()">
      <i class="icon-align-left"></i> Toggle Word Wrap
    </a>

  </div>

<%- endview -%>

